{
    "$schema": "https://ev2schema.azure.net/schemas/2020-01-01/serviceModel.json",
    "contentVersion": "1.0.0",
    "serviceMetadata": {
        "serviceGroup": "Microsoft.DevSec.AzPentest.Dusseldorf",
        "environment": "Prod",
        "displayName": "Dusseldorf"
    },
    "serviceResourceGroupDefinitions": [
        {
            "Name": "Dusseldorf-ImagePush",
            "serviceResourceDefinitions": [
                {
                    "name": "ACRImagePush",
                    "composedOf": {
                        "arm": {
                            "templatePath": "Templates/ACRImagePush.template.json",
                            "parametersPath": "ArtifactDeploy/Parameters/ACRImagePush.parameters.json"
                        }
                    }
                },
                {
                    "name": "ShellScriptDeploy",
                    "composedOf": {
                        "extension": {
                            "shell": [
                                {
                                    "type":"Run",
                                    "properties": {
                                        "imageName": "adm-mariner-20-l",
                                        "imageVersion": "v8"
                                    }
                                }
                            ]
                        }
                    }
                }
            ]
        }
    ],
    "serviceResourceGroups": [
        {
            "azureResourceGroupName": "common",
            "location": "Central US",
            "instanceOf": "Dusseldorf-ImagePush",
            "azureSubscriptionId": "c98b7777-697d-4242-9975-850145656ed4",
            "scopeTags": [
                {
                    "name": "Global"
                }
            ],
            "serviceResources": [
                {
                    "name": "CreateInfrastructureResource",
                    "instanceOf": "ACRImagePush",
                    "armParametersPath": "drop/Ev2/ACRImagePush.parameters.json"
                },
                {
                    "name": "LinuxContainerUpload",
                    "instanceOf": "ShellScriptDeploy",
                    "rolloutParametersPath": "drop/Ev2/UploadImage.parameters.json"
                }
            ]
        }
    ]
}