{
    "$schema": "https://ev2schema.azure.net/schemas/2020-01-01/serviceModel.json",
    "contentVersion": "1.0.0",
    "serviceMetadata": {
        "serviceGroup": "Microsoft.DevSec.AzPentest.Dusseldorf",
        "environment": "Test",
        "displayName": "Dusseldorf"
    },
    "serviceResourceGroupDefinitions": [
        {
            "Name": "Dusseldorf-ImagePush",
            "serviceResourceDefinitions": [
                {
                    "name": "ACRImagePush",
                    "ArmTemplatePath": "drop/ev2/ArtifactDeploy/Templates/Infrastructure.template.json"
                },
                {
                    "name": "ShellScriptDeploy",
                    "composedOf": {
                        "extension": {
                            "shell": [
                                {
                                    "type":"Run",
                                    "properties": {
                                        "imageName": "adm-mariner-20-l",
                                        "imageVersion": "v8"
                                    }
                                }
                            ]
                        }
                    }
                }
            ]
        }
    ],
    "serviceResourceGroups": [
        {
            "azureResourceGroupName": "common",
            "location": "Central US",
            "instanceOf": "Dusseldorf-ImagePush",
            "azureSubscriptionId": "4e18a841-49be-4446-836d-bf95132ff38b",
            "scopeTags": [
                {
                    "name": "Global"
                }
            ],
            "serviceResources": [
                {
                    "name": "CreateInfrastructureResource",
                    "instanceOf": "ACRImagePush",
                    "armParametersPath": "drop/ev2/ArtifactDeploy/Parameters/Infrastructure.parameters.json"
                },
                {
                    "name": "DusseldorfContainerUpload",
                    "instanceOf": "ShellScriptDeploy",
                    "rolloutParametersPath": "drop/ev2/ArtifactDeploy/Parameters/UploadImage.rollout.json"
                }
            ]
        }
    ]
}